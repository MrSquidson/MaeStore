{% extends 'archive/base.html' %}
{% block title %}{{ entry.title }} - {{ entry.author }}{% endblock %}

{% block content %}
    <style>
        /* Custom styles for the books, credit to civbooks.github.io */
        @font-face {
            font-family: 'minecraft pixel perfect';
            src: url('https://civbooks.github.io/font/Minecraft-Regular.otf');
        }

        @font-face {
            font-family: 'minecraft pixel perfect';
            src: url('https://civbooks.github.io/font/Minecraft-Bold.ttf');
            font-weight: bold;
        }

        .book {
            margin: 1em auto 0;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            align-content: space-around;
            min-width: 260px;

        }

        .page {
            image-rendering: pixelated;
            background: url("https://civbooks.github.io/img/page.png") center;
            width: 292px;
            min-width: 292px;
            height: 360px;
            position: relative;
            font: 20px / 0.9em 'minecraft pixel perfect', serif;
            color: black;
            margin: 0.5em 0;
        }

        .page-content {
            position: absolute;
            top: 61px;
            left: 32px;
            white-space: pre-wrap;
            word-wrap: break-word;
            width: 232px;
        }

        .page-number {
            position: absolute;
            top: 30px;
            right: 36px;
            text-decoration: none;
            {#color: rgba(0, 0, 0, 0.4);#}
        }
    </style>
    <h2 class="text-2xl font-bold">{{ entry.title }}</h2>
    <div class='book'>
    {% autoescape off %}
        {% for item in entry.text %}
            <div class="page">
                <div href="#page-{{ forloop.counter }}" class="page-number">Page {{ forloop.counter }}
                    of {{ forloop.revcounter0|add:forloop.counter }}</div>
                <div class="page-content"><p class="text-grey-600">{{ item }}</p></div>
            </div>

        {% endfor %}
    {% endautoescape %}
    </div>
{% endblock %}